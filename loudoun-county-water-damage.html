<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Loudoun County Water Damage Restoration - Exercise YOUR authority to protect your tech executive family's property value. Choose YOUR expert - 703-844-4204">
    <title>Loudoun County Water Damage Restoration - Choose YOUR Expert | Authority Reversal Framework™</title>
    
    <!-- Professional Typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Schema Markup for Loudoun County Emergency Services -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "EmergencyService",
        "@name": "Loudoun County Water Damage Restoration",
        "description": "Premium water damage restoration in Loudoun County VA - YOUR choice for tech executive family property protection, not insurance company's",
        "serviceArea": "Loudoun County, VA, Leesburg, Ashburn, Sterling, Purcellville, Middleburg, Round Hill, Lansdowne",
        "telephone": "703-844-4204",
        "availableLanguage": "English",
        "hasOfferCatalog": {
            "@type": "OfferCatalog",
            "@name": "Loudoun County Emergency Water Damage Services",
            "itemListElement": [
                {"@type": "Offer", "itemOffered": {"@type": "Service", "name": "Emergency Water Extraction"}},
                {"@type": "Offer", "itemOffered": {"@type": "Service", "name": "Luxury Home Restoration"}},
                {"@type": "Offer", "itemOffered": {"@type": "Service", "name": "Tech Executive Property Protection"}}
            ]
        }
    }
    </script>
    
    <!-- Authority Reversal Framework™ Integration -->
    <script src="scripts/regional-analytics-setup.js"></script>
    <script src="scripts/authority-conversion-tracker.js"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'GA_MEASUREMENT_ID');
        
        document.addEventListener('DOMContentLoaded', function() {
            initializeAuthorityReversalTracking('northern_virginia');
            
            gtag('event', 'loudoun_county_authority_engagement', {
                'county': 'loudoun',
                'service': 'water_damage',
                'psychology_framework': 'plumber_heart_attack',
                'phone': '703-844-4204'
            });
        });
    </script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #1a1a1a;
            background-color: #ffffff;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header */
        header {
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            color: white;
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: 800;
            text-decoration: none;
            color: white;
        }
        
        .phone-header {
            font-size: 1.25rem;
            font-weight: 700;
            color: #fbbf24;
            text-decoration: none;
            transition: color 0.3s ease;
        }
        
        .phone-header:hover {
            color: #f59e0b;
        }
        
        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            color: white;
            padding: 4rem 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="20" cy="20" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="80" cy="80" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="40" cy="60" r="1" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }
        
        .hero-content {
            position: relative;
            z-index: 2;
        }
        
        .hero h1 {
            font-size: 3rem;
            font-weight: 900;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .hero-subtitle {
            font-size: 1.25rem;
            margin-bottom: 2rem;
            opacity: 0.95;
        }
        
        .cta-button {
            display: inline-block;
            background: #fbbf24;
            color: #1a1a1a;
            padding: 1rem 2rem;
            font-size: 1.1rem;
            font-weight: 700;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(251,191,36,0.3);
        }
        
        .cta-button:hover {
            background: #f59e0b;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(251,191,36,0.4);
        }
        
        /* Authority Reversal Section */
        .authority-reversal {
            padding: 4rem 0;
            background: #f8fafc;
        }
        
        .authority-hook {
            background: white;
            border-left: 6px solid #dc2626;
            padding: 2rem;
            margin-bottom: 3rem;
            border-radius: 0 8px 8px 0;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        
        .authority-question {
            font-size: 1.5rem;
            font-weight: 700;
            color: #dc2626;
            margin-bottom: 1rem;
        }
        
        .authority-explanation {
            font-size: 1.1rem;
            color: #374151;
            margin-bottom: 1.5rem;
        }
        
        .empowerment-message {
            font-size: 1.2rem;
            font-weight: 600;
            color: #1e40af;
            background: #dbeafe;
            padding: 1.5rem;
            border-radius: 8px;
        }
        
        /* Service Details */
        .service-details {
            padding: 4rem 0;
            background: white;
        }
        
        .section-title {
            font-size: 2.5rem;
            font-weight: 800;
            color: #1a1a1a;
            text-align: center;
            margin-bottom: 3rem;
        }
        
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }
        
        .service-card {
            background: #f8fafc;
            padding: 2rem;
            border-radius: 12px;
            border: 2px solid #e5e7eb;
            transition: all 0.3s ease;
        }
        
        .service-card:hover {
            border-color: #3b82f6;
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        
        .service-card h3 {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1e40af;
            margin-bottom: 1rem;
        }
        
        .service-card p {
            color: #6b7280;
        }
        
        /* Loudoun County Specific */
        .county-info {
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            color: white;
            padding: 3rem 0;
            text-align: center;
        }
        
        .county-title {
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: 1rem;
        }
        
        .county-description {
            font-size: 1.1rem;
            opacity: 0.95;
            max-width: 800px;
            margin: 0 auto;
        }
        
        /* Tech Executive Property Value Alert */
        .tech-executive-property-alert {
            background: #dbeafe;
            border: 2px solid #3b82f6;
            padding: 2rem;
            border-radius: 12px;
            margin: 2rem 0;
        }
        
        .tech-executive-property-alert h3 {
            color: #1e40af;
            font-weight: 700;
            margin-bottom: 1rem;
        }
        
        .tech-executive-property-alert p {
            color: #1d4ed8;
        }
        
        /* Contact Section */
        .contact-section {
            background: #1f2937;
            color: white;
            padding: 4rem 0;
            text-align: center;
        }
        
        .contact-title {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 2rem;
        }
        
        .phone-large {
            font-size: 3rem;
            font-weight: 900;
            color: #fbbf24;
            text-decoration: none;
            display: block;
            margin-bottom: 2rem;
            transition: color 0.3s ease;
        }
        
        .phone-large:hover {
            color: #f59e0b;
        }
        
        .contact-message {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }
        
        /* Cross-linking */
        .cross-links {
            background: #f8fafc;
            padding: 3rem 0;
        }
        
        .links-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }
        
        .link-card {
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
            text-decoration: none;
            color: #374151;
            border: 2px solid #e5e7eb;
            transition: all 0.3s ease;
        }
        
        .link-card:hover {
            border-color: #3b82f6;
            color: #1e40af;
            transform: translateY(-2px);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2rem;
            }
            
            .phone-large {
                font-size: 2rem;
            }
            
            .header-content {
                flex-direction: column;
                gap: 1rem;
            }
            
            .services-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
  <link rel="stylesheet" href="seo_styles.css">
<link rel="stylesheet" href="blue_text_nuclear_fix.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <a href="/" class="logo">Loudoun County Executive Authority</a>
                <a style="color: #0066cc; text-decoration: underline; font-weight: bold;" href="tel:703-844-4204" class="phone-header">📞 703-844-4204</a>
            </div>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h1>Loudoun County Water Damage Restoration</h1>
                <p class="hero-subtitle">Exercise YOUR authority to protect your tech executive family's property value</p>
                <a style="color: #0066cc; text-decoration: underline; font-weight: bold;" href="tel:703-844-4204" class="cta-button">Call 703-844-4204 Now</a>
            </div>
        </div>
    </section>

    <section class="authority-reversal">
        <div class="container">
            <div class="authority-hook" id="authority-hook-plumber">
                <div class="authority-question">
                    Would you let your plumber handle your heart attack?
                </div>
                <div class="authority-explanation">
                    Of course not. You choose your cardiac surgeon because your life depends on expert medical care. So why let your insurance company choose your water damage restoration expert when your Loudoun County tech executive family's luxury home investment, data center reliability, and corporate executive responsibilities depend on proper water damage remediation?
                </div>
                <div class="empowerment-message" id="authority-empowerment-message">
                    You choose your cardiac surgeon. Choose your restoration expert. Exercise YOUR executive authority to protect your family's investment - not your insurance company's convenience.
                </div>
            </div>
            
            <div class="tech-executive-property-alert">
                <h3>💻 Tech Executive Property Value & Data Center Alert</h3>
                <p>Loudoun County's tech executives and data center professionals cannot afford water damage compromising luxury home values, high-tech infrastructure, and corporate executive responsibilities. Your family's lifestyle and your professional duties to Fortune 500 technology leadership require water damage restoration that understands executive family standards and premium property protection.</p>
            </div>
        </div>
    </section>

    <section class="county-info">
        <div class="container">
            <h2 class="county-title">Loudoun County Water Damage Experts</h2>
            <p class="county-description">
                Serving Loudoun County's tech executive families, data center professionals, and luxury communities in Leesburg, Ashburn, Sterling, Purcellville, and Lansdowne. 
                Your family deserves the water damage expertise you choose, not the contractor your insurance company prefers.
            </p>
        </div>
    </section>

    <section class="service-details">
        <div class="container">
            <h2 class="section-title">Loudoun County Water Damage Services</h2>
            <div class="services-grid">
                <div class="service-card">
                    <h3>Luxury Home Water Restoration</h3>
                    <p>Comprehensive water damage restoration for Loudoun County's executive homes with premium materials protection and flexible scheduling for corporate leadership and tech professional duties.</p>
                </div>
                <div class="service-card">
                    <h3>Tech Executive Property Protection</h3>
                    <p>Specialized water damage restoration for tech executives and data center professionals with high-tech equipment protection and understanding of corporate executive schedules and property values.</p>
                </div>
                <div class="service-card">
                    <h3>Data Center Professional Services</h3>
                    <p>Water damage services designed around high-tech infrastructure reliability with executive-grade response understanding of technology leadership responsibilities and premium lifestyle requirements.</p>
                </div>
                <div class="service-card">
                    <h3>Ashburn Executive Community Services</h3>
                    <p>Professional restoration services for Loudoun's luxury communities reflecting tech executive values of innovation excellence, property investment protection, and family lifestyle quality.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="cross-links">
        <div class="container">
            <h2 class="section-title">Loudoun County Related Services</h2>
            <div class="links-grid">
                <a href="/loudoun-county-fire-damage.html" class="link-card">
                    <h3>Fire Damage Cleanup</h3>
                    <p>Loudoun County fire restoration</p>
                </a>
                <a href="/loudoun-county-mold-remediation.html" class="link-card">
                    <h3>Mold Remediation Services</h3>
                    <p>Loudoun County mold removal</p>
                </a>
                <a href="/loudoun-county-storm-damage.html" class="link-card">
                    <h3>Storm Damage Emergency</h3>
                    <p>Loudoun County storm restoration</p>
                </a>
                <a href="/virginia-restoration.html" class="link-card">
                    <h3>All Northern Virginia Services</h3>
                    <p>Complete NOVA restoration coverage</p>
                </a>
            </div>
        </div>
    </section>

    <section class="contact-section">
        <div class="container">
            <h2 class="contact-title">Choose YOUR Loudoun County Executive Expert</h2>
            <a style="color: #0066cc; text-decoration: underline; font-weight: bold;" href="tel:703-844-4204" class="phone-large">703-844-4204</a>
            <p class="contact-message">
                Don't let your insurance company choose for you. Your executive family's property investment demands expert authority - call directly.
            </p>
            <a style="color: #0066cc; text-decoration: underline; font-weight: bold;" href="tel:703-844-4204" class="cta-button">Call Now for Loudoun County Service</a>
        </div>
    </section>
<script src="blue_text_js_fix.js"></script>

    <!-- Community Knowledge Hub - Water Damage Virginia -->
    <section class="community-knowledge-hub" style="background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%); padding: 40px 20px; margin: 40px 0; border-radius: 15px; border: 2px solid #fecaca;">
      <div class="container" style="max-width: 1200px; margin: 0 auto;">
        <div class="hub-header" style="text-align: center; margin-bottom: 30px;">
          <h2 style="font-size: clamp(24px, 5vw, 32px); color: #dc2626; margin-bottom: 15px; font-weight: 800;">
            💧 Virginia Water Damage Community Knowledge Hub
          </h2>
          <p style="font-size: clamp(16px, 3vw, 18px); color: #991b1b; font-weight: 600;">
            Real homeowner experiences • Expert guidance • Authority Reversal Framework™
          </p>
        </div>

        <div class="knowledge-content" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 25px; margin-bottom: 30px;">
          <div class="expert-insight" style="background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
            <h3 style="color: #dc2626; margin-bottom: 15px; font-size: 20px; font-weight: 700;">🔬 Expert Water Damage Insights</h3>
            <ul style="color: #374151; line-height: 1.7;">
              <li><strong>24-hour rule:</strong> Mold growth begins within 24-48 hours of water exposure</li><li><strong>Hidden damage:</strong> 60% of water damage occurs behind walls and under flooring</li><li><strong>Insurance timing:</strong> Document everything immediately - don't wait for adjuster</li><li><strong>Contractor choice:</strong> Virginia homeowners have legal right to choose their restoration company</li>
            </ul>
          </div>

          <div class="homeowner-stories" style="background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
            <h3 style="color: #dc2626; margin-bottom: 15px; font-size: 20px; font-weight: 700;">📝 Virginia Homeowner Experiences</h3>
            <div class="story-highlight" style="border-left: 4px solid #dc2626; padding-left: 15px; margin: 15px 0; font-style: italic; color: #4b5563;">
              "Independent Restoration found water damage my insurance adjuster completely missed. Professional moisture mapping revealed damage extending into three additional rooms. Full coverage approved after their documentation."
              <div style="font-weight: 600; margin-top: 8px; color: #dc2626;">- Loudoun County Homeowner</div>
            </div>
            <div style="background: #fef3c7; border: 1px solid #fbbf24; border-radius: 6px; padding: 15px; margin: 10px 0;">
              <strong>Authority Reversal Framework:</strong> "Would you let your insurance company choose your heart surgeon? Professional water damage restoration requires expert evaluation - not insurance convenience."
            </div>
          </div>
        </div>

        <div class="forum-links" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 25px;">
          <a href="/restoration-forum.html" style="background: #dc2626; color: white; padding: 18px 25px; border-radius: 10px; text-decoration: none; text-align: center; font-weight: 700; transition: all 0.3s ease; display: block;">
            🏠 Main Restoration Forum
          </a>
          <a href="/virginia-forum-content.html" style="background: #991b1b; color: white; padding: 18px 25px; border-radius: 10px; text-decoration: none; text-align: center; font-weight: 700; transition: all 0.3s ease; display: block;">
            🏔️ Virginia Community Archives
          </a>
          <a href="/northern-va-water-damage-faq.html" style="background: #991b1b; color: white; padding: 18px 25px; border-radius: 10px; text-decoration: none; text-align: center; font-weight: 700; transition: all 0.3s ease; display: block;">
            ❓ FAQ Resources
          </a>
        </div>

        <div class="emergency-contact" style="background: #dc2626; color: white; padding: 25px; border-radius: 12px; text-align: center;">
          <h3 style="margin-bottom: 15px; font-size: 22px;">🚨 Virginia Water Damage Emergency</h3>
          <p style="font-size: 18px; margin-bottom: 20px;">Professional response within 2 hours • Insurance advocacy • Homeowner rights protection</p>
          <div style="font-size: 28px; font-weight: 900; letter-spacing: 1px;">
            📞 <span style="color: #fef3c7;">703-844-4204</span>
          </div>
          <p style="font-size: 14px; margin-top: 15px; opacity: 0.9;">Available 24/7 • Virginia licensed • IICRC certified restoration specialists</p>
        </div>
      </div>
    </section>

    <!-- Emergency AI Assistant - Add before </body> on each page -->
<div id="emergency-ai-button" style="
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 10000;
  background: #dc2626;
  color: white;
  border: none;
  border-radius: 50px;
  padding: 15px 20px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);
  transition: all 0.3s ease;
" onclick="openEmergencyChat()">
  🚨 Emergency Chat
</div>

<script>
function openEmergencyChat() {
  const overlay = document.createElement('div');
  overlay.id = 'emergency-chat-overlay';
  overlay.style.cssText = `
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    z-index: 20000;
    display: flex;
    justify-content: center;
    align-items: center;
  `;

  const chatContainer = document.createElement('div');
  chatContainer.style.cssText = `
    background: white;
    border-radius: 12px;
    width: 90%;
    max-width: 600px;
    height: 80%;
    max-height: 700px;
    position: relative;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    display: flex;
    flex-direction: column;
  `;

  const header = document.createElement('div');
  header.style.cssText = `
    background: #dc2626;
    color: white;
    padding: 20px;
    border-radius: 12px 12px 0 0;
    font-weight: 600;
    font-size: 18px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  `;
  header.innerHTML = '🚨 Emergency Restoration Assistant <button onclick="closeEmergencyChat()" style="background: rgba(255,255,255,0.2); border: none; color: white; border-radius: 50%; width: 30px; height: 30px; cursor: pointer;">×</button>';

  const emergencyInfo = document.createElement('div');
  emergencyInfo.style.cssText = `
    padding: 20px;
    background: #fef2f2;
    border-bottom: 1px solid #fecaca;
    text-align: center;
  `;
  emergencyInfo.innerHTML = `
    <div style="font-weight: 600; color: #dc2626; margin-bottom: 10px;">EMERGENCY PHONE NUMBERS</div>
    <div style="display: flex; justify-content: space-around; flex-wrap: wrap; gap: 10px; color: #1f2937;">
      <div><strong style="color: #1f2937;">Virginia:</strong> <a href="tel:703-844-4204" style="color: #dc2626; font-weight: 600;">703-844-4204</a></div>
      <div><strong style="color: #1f2937;">Maryland:</strong> <a href="tel:301-900-5171" style="color: #dc2626; font-weight: 600;">301-900-5171</a></div>
      <div><strong style="color: #1f2937;">DC:</strong> <a href="tel:202-796-7422" style="color: #dc2626; font-weight: 600;">202-796-7422</a></div>
    </div>
    <div style="margin-top: 10px; font-size: 14px; color: #1f2937; font-weight: 500;">⏱️ Response Time: 60-90 minutes</div>
  `;

  const chatContent = document.createElement('div');
  chatContent.id = 'chat-content-area';
  chatContent.style.cssText = `
    flex: 1;
    padding: 20px;
    overflow-y: auto;
  `;
  chatContent.innerHTML = `
    <div style="background: #f8fafc; padding: 15px; border-radius: 8px; margin-bottom: 15px; color: #1f2937; border: 1px solid #e5e7eb;">
      <strong style="color: #1f2937;">Hi! I'm your Emergency Restoration Assistant.</strong><br><br>
      <span style="color: #1f2937;">I'm here to help with:</span><br>
      <span style="color: #1f2937;">• Water damage emergencies</span><br>
      <span style="color: #1f2937;">• Fire and smoke damage</span><br>
      <span style="color: #1f2937;">• Mold remediation</span><br>
      <span style="color: #1f2937;">• Storm damage repair</span><br><br>
      <strong style="color: #1f2937;">What type of emergency are you experiencing?</strong>
    </div>
    <div id="chat-messages"></div>
    <div style="display: flex; gap: 10px; margin-top: 15px;">
      <button onclick="quickResponse('Water damage in my basement')" style="background: #dc2626; color: white; border: none; padding: 10px 15px; border-radius: 6px; cursor: pointer; flex: 1;">💧 Water Damage</button>
      <button onclick="quickResponse('Fire damage to my property')" style="background: #dc2626; color: white; border: none; padding: 10px 15px; border-radius: 6px; cursor: pointer; flex: 1;">🔥 Fire Damage</button>
      <button onclick="quickResponse('Mold problem in my home')" style="background: #dc2626; color: white; border: none; padding: 10px 15px; border-radius: 6px; cursor: pointer; flex: 1;">🦠 Mold Issues</button>
    </div>
  `;

  chatContainer.appendChild(header);
  chatContainer.appendChild(emergencyInfo);
  chatContainer.appendChild(chatContent);
  overlay.appendChild(chatContainer);
  document.body.appendChild(overlay);

  overlay.addEventListener('click', function(e) {
    if (e.target === overlay) {
      closeEmergencyChat();
    }
  });
}

function closeEmergencyChat() {
  const overlay = document.getElementById('emergency-chat-overlay');
  if (overlay) {
    overlay.remove();
  }
}

function quickResponse(query) {
  const messagesDiv = document.getElementById('chat-messages');

  const userMsg = document.createElement('div');
  userMsg.style.cssText = 'background: #dc2626; color: white; padding: 10px; border-radius: 8px; margin-bottom: 10px; text-align: right;';
  userMsg.textContent = query;
  messagesDiv.appendChild(userMsg);

  setTimeout(() => {
    const chatContentArea = document.getElementById('chat-content-area');
    if (chatContentArea) {
      chatContentArea.scrollTo({
        top: chatContentArea.scrollHeight,
        behavior: 'smooth'
      });
    }
  }, 50);

  setTimeout(() => {
    const assistantMsg = document.createElement('div');
    assistantMsg.style.cssText = 'background: #f8fafc; padding: 15px; border-radius: 8px; margin-bottom: 10px; color: #1f2937; border: 1px solid #e5e7eb;';

    let response = '';
    if (query.includes('Water')) {
      response = `🚨 <strong>WATER DAMAGE EMERGENCY</strong><br><br>
        <strong>CALL IMMEDIATELY:</strong><br>
        • Virginia: 703-844-4204<br>
        • Maryland: 301-900-5171<br>
        • DC: 202-796-7422<br><br>
        <strong>Immediate Steps:</strong><br>
        1. Stop water source if safely possible<br>
        2. Turn off electricity to affected areas<br>
        3. Remove valuable items from area<br>
        4. Take photos for insurance<br><br>
        A technician will arrive within 60-90 minutes.`;
    } else if (query.includes('Fire')) {
      response = `🔥 <strong>FIRE DAMAGE EMERGENCY</strong><br><br>
        <strong>CALL IMMEDIATELY:</strong><br>
        • Virginia: 703-844-4204<br>
        • Maryland: 301-900-5171<br>
        • DC: 202-796-7422<br><br>
        <strong>Immediate Steps:</strong><br>
        1. Wait for fire department clearance<br>
        2. Do not enter unsafe areas<br>
        3. Secure property if possible<br>
        4. Contact insurance immediately<br><br>
        Emergency response team dispatched within 60-90 minutes.`;
    } else if (query.includes('Mold')) {
      response = `🦠 <strong>MOLD REMEDIATION NEEDED</strong><br><br>
        <strong>CALL FOR ASSESSMENT:</strong><br>
        • Virginia: 703-844-4204<br>
        • Maryland: 301-900-5171<br>
        • DC: 202-796-7422<br><br>
        <strong>Immediate Steps:</strong><br>
        1. Avoid disturbing mold areas<br>
        2. Improve ventilation if safe<br>
        3. Document visible mold with photos<br>
        4. Keep children/pets away from area<br><br>
        Professional assessment within 24 hours.`;
    }

    assistantMsg.innerHTML = response;
    messagesDiv.appendChild(assistantMsg);

    setTimeout(() => {
      const chatContentArea = document.getElementById('chat-content-area');
      if (chatContentArea) {
        chatContentArea.scrollTo({
          top: chatContentArea.scrollHeight,
          behavior: 'smooth'
        });
      }

      messagesDiv.scrollTo({
        top: messagesDiv.scrollHeight,
        behavior: 'smooth'
      });
    }, 100);
  }, 1000);
}

document.addEventListener('DOMContentLoaded', function() {
  const button = document.getElementById('emergency-ai-button');

  button.addEventListener('mouseenter', function() {
    this.style.background = '#b91c1c';
    this.style.transform = 'scale(1.05)';
  });

  button.addEventListener('mouseleave', function() {
    this.style.background = '#dc2626';
    this.style.transform = 'scale(1)';
  });
});
</script>
    </body>
</html>